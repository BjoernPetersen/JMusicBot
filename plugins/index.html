<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Plugin types - MusicBot</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">MusicBot</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Overview</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Plugins <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li class="active">
    <a href="./">Plugin types</a>
</li>
                                    
<li >
    <a href="declaration/">Declaration</a>
</li>
                                    
<li >
    <a href="lifecycle/">Lifecycle</a>
</li>
                                    
<li >
    <a href="resources/">Resources</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="..">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="declaration/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#plugin-types">Plugin types</a></li>
            <li><a href="#playbackfactory">PlaybackFactory</a></li>
            <li><a href="#provider">Provider</a></li>
            <li><a href="#suggester">Suggester</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="plugin-types">Plugin types<a class="headerlink" href="#plugin-types" title="Permanent link">&para;</a></h1>
<p>JMusicBot allows you to write a variety of plugins. There are four specific service interfaces,
which all extend the same basic <code>Plugin</code> interface:</p>
<ul>
<li><code>GenericPlugin</code></li>
<li><a href="#playbackfactory"><code>PlaybackFactory</code></a></li>
<li><a href="#provider"><code>Provider</code></a></li>
<li><a href="#suggester"><code>Suggester</code></a></li>
</ul>
<p>Also have a look at the <a href="declaration">declaration</a> section for further instructions on how
to implement a plugin.</p>
<h2 id="playbackfactory">PlaybackFactory<a class="headerlink" href="#playbackfactory" title="Permanent link">&para;</a></h2>
<p>A <code>PlaybackFactory</code> provides a way to actually play a specific kind of song, for example MP3 files
or YouTube videos.</p>
<p>A few restrictions are imposed on Playback factories:</p>
<ol>
<li>It must be possible to pause and resume playback</li>
<li>It must be possible to abort playback prematurely</li>
<li>The end of a song must be automatically detected and reported to the bot</li>
</ol>
<p>Note that it is not a requirement to keep track of the duration a song has played or seek within a
song.</p>
<h3 id="playback">Playback<a class="headerlink" href="#playback" title="Permanent link">&para;</a></h3>
<p>A <code>PlaybackFactory</code> creates a new <code>Playback</code> object for every song it should play.
The <code>Playback</code> object is used to play a song exactly once.</p>
<p>To implement <code>Playback</code>, you basically only need to implement two methods: <code>play()</code> and <code>pause()</code>.</p>
<p>In addition to that, there is a <code>waitForFinish()</code> method that is supposed to block any callers until
the song has finished playing. If you choose to extend the <code>AbstractPlayback</code> interface
(recommended) you only don't have to implement the method, but only have to call the <code>markDone()</code>
method once the song has finished.</p>
<p>While this design has some limitations for the bot, it allows you to create implementations for a
variety of services.
For example, it wouldn't be possible to play Spotify songs if the only possibility were to directly
stream songs, because Spotify doesn't allow that. Instead, the Spotify plugin simply controls the
playback of an official Spotify client (which typically runs on the same machine as the bot).</p>
<h2 id="provider">Provider<a class="headerlink" href="#provider" title="Permanent link">&para;</a></h2>
<p>Providers are the most integral part to integrating music providers into the MusicBot.
They provide access to the songs of a specific source (Spotify, local hard disk, YouTube, etc.)
by offering a <code>search</code> by query and a <code>lookup</code> by song ID.</p>
<p>A provider also typically depends on a <a href="#playbackfactory"><code>PlaybackFactory</code></a>, which it
delegates to whenever the <code>Playback</code> for a song is actually requested via
the <code>supplyPlayback()</code> method.</p>
<h2 id="suggester">Suggester<a class="headerlink" href="#suggester" title="Permanent link">&para;</a></h2>
<p>Suggesters provide song suggestions based on some arbitrary algorithm. For example, they could
provide shuffled MP3s from the local disk, or songs from a Spotify playlist.</p>
<p>A Suggester typically depends on a Provider to actually provide the songs it is suggesting.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
